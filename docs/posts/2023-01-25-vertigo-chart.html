<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>greghale.io - Vertigo Chart</title>
        <link rel="stylesheet" href="../css/default.css" />
	<link rel="stylesheet" href="../css/syntax.css" />
        <link href="../css/NanumGothic-Bold.ttf" rel="stylesheet">
    </head>
    <body>
      <div class="content">
        <header>
            <div class="logo">
                <a href="../">blog.greghale.io</a>
            </div>
            <nav>
                <a href="../">Home</a>
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            </nav>
        </header>

        <main role="main">
            <!-- <h1>Vertigo Chart</h1> -->
            <article>
    <section class="header">
        Posted on January 25, 2023
        
    </section>
    <section>
        <h1 id="vertigo-chart">Vertigo Chart</h1>
<p>This chart tracks my ongoing vertigo symptoms and some other factors that might be triggers.</p>
<p>The <a href="../data/vertigo-chart.csv">raw data</a> is available in csv. It is always up to date with the chart.</p>
<div id="vertigo" style="width:700px;height:700px;">

</div>
<div style="font-size:8pt;">
<table>
<colgroup>
<col style="width: 36%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="header">
<th>Trace</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>discomfort</td>
<td>How much vertigo I’m feeling</td>
</tr>
<tr class="even">
<td>hints</td>
<td>Number of subtle warning signs, e.g. a little bout of nystagmus</td>
</tr>
<tr class="odd">
<td>sleep_deficit_8hr</td>
<td>Shortage of 8 hours sleep the night prior</td>
</tr>
<tr class="even">
<td>sore_throat</td>
<td>Sore throat (to track if illness is related)</td>
</tr>
<tr class="odd">
<td>headache</td>
<td>Headache (to track if illness is related)</td>
</tr>
<tr class="even">
<td>stress</td>
<td>Subjective 1 is a typical day, 7 is a tough prod incident</td>
</tr>
<tr class="odd">
<td>caffine</td>
<td>Equivalent to how many caffinated teas I had that day</td>
</tr>
<tr class="even">
<td>sugar</td>
<td>Subjective 1-10 scale from just a bowl of cereal to 5 bowls of ice cream</td>
</tr>
<tr class="odd">
<td>salt</td>
<td>Subjective 1-10 scale from very little to tons of salt</td>
</tr>
<tr class="even">
<td>dh_left</td>
<td>How much spinning is produced by doing a left Dix-Hallpike</td>
</tr>
<tr class="odd">
<td>dh_right</td>
<td>How much spinning is produced by doing a right Dix-Hallpike</td>
</tr>
<tr class="even">
<td>accel_ul</td>
<td>How much does tilting my head up and left feel like it’s happening too fast</td>
</tr>
<tr class="odd">
<td>accel_dr</td>
<td>How much does tilting my head down and right feel like it’s happening too fast</td>
</tr>
<tr class="even">
<td>accel_ur</td>
<td>How much does tilting my head up and right feel like it’s happening too fast</td>
</tr>
<tr class="odd">
<td>accel_dl</td>
<td>How much does tilting my head down and left feel like it’s happening too fast</td>
</tr>
<tr class="even">
<td>h_loss_l</td>
<td>0-10 scale of subjective left hearing loss and tinnitus</td>
</tr>
<tr class="odd">
<td>h_loss_r</td>
<td>0-10 scale of subjective right hearing loss and tinnitus</td>
</tr>
</tbody>
</table>
</div>
<script src="https://cdn.plot.ly/plotly-2.18.0.min.js"></script>
<script language="javascript">

function makeplot() {
  d3.csv("/data/vertigo-chart.csv", data => plotTransposedData(data))
}

function isATrace(propt) {
  return propt != "datetime"
}

function proptVisibility(propt) {
  if (propt == "discomfort") {
    return true
  } else {
    return 'legendonly'
  }
}
    
function plotTransposedData(allRows) {
  var traces = {};
  
  for (var propt in allRows[0]) {
    if (isATrace(propt)) {
      traces[propt] = {};
      traces[propt].name = propt;
      traces[propt].visible = proptVisibility(propt);
      traces[propt].x = [];
      traces[propt].y = [];
    }
  }
  
  for (var i=0; i < allRows.length; i++) {
    for (var propt in allRows[i] ) {
      if (isATrace(propt)) {
        traces[propt].x.push(allRows[i].datetime);
        traces[propt].y.push(allRows[i][propt]);
      }
    }
  }
  
  var traceList = [];
  for (var propt in traces) {
    traceList.push(traces[propt]);
  }
  
  var plotDiv = document.getElementById('vertigo');
  Plotly.newPlot(
    plotDiv,
    traceList,
    {
      margin: {t: 0},
      yaxis: {fixedrange: true},
      margin: { r: 50 },
      modebar: {
        orientation: 'v'
      }
    });

}

makeplot();

</script>
    </section>
</article>



        </main>

        <footer>
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </footer>
	</content>
    </body>
</html>
